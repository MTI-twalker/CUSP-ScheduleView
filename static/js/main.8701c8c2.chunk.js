(this["webpackJsonptimeline-tool"]=this["webpackJsonptimeline-tool"]||[]).push([[0],{23:function(e,t,s){},24:function(e,t,s){},32:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s.n(a),n=s(8),i=s.n(n),l=(s(23),s(24),s(3)),o=s(2),c=s(17),d=s(4),h=s.n(d),u=s(10),j=s(11),p=s(12),b=s(18),g=s(16),S=s(34),f=s(13),x=s.n(f),O=s(14),C=s.n(O),m=s(0),v=function(e){Object(b.a)(s,e);var t=Object(g.a)(s);function s(e){var a;return Object(j.a)(this,s),(a=t.call(this,e)).handleFileChange=function(e){if(a.setState({error:""}),e.target.files.length){var t=e.target.files[0],s=null===t||void 0===t?void 0:t.type.split("/")[1];if(!a.state.allowedExtensions.includes(s))return void a.setState({error:"Please input a csv file"});a.setState({file:t})}},a.handleParse=function(){if(!a.state.file)return a.setState({error:"Enter a valid file"});var e=new FileReader;e.onload=function(){var e=Object(u.a)(h.a.mark((function e(t){var s,r,n,i,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.target,r=C.a.parse(s.result,{header:!0}),n=null===r||void 0===r?void 0:r.data,i=[],e.t0=h.a.keys(n);case 5:if((e.t1=e.t0()).done){e.next=14;break}if(0!==(l=e.t1.value)){e.next=11;break}return e.abrupt("continue",5);case 11:i.push(n[l]);case 12:e.next=5;break;case 14:a.handleScheduleSeries(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.readAsText(a.state.file)},a.state={weekList:[],series:{},options:{chart:{height:350,type:"rangeBar"},plotOptions:{bar:{horizontal:!0,barHeight:"75%%",rangeBarGroupRows:!0}},stroke:{width:1},fill:{type:"solid",opacity:1},yaxis:{labels:{style:{fontSize:"16px"}}},xaxis:{labels:{style:{fontSize:"16px"},rotate:-30,rotateAlways:!0,hideOverlappingLabels:!1,showDuplicates:!0,min:17304336e5,minHeight:125,maxHeight:300,datetimeFormatter:{year:"yy-MM-dd",month:"yy-MM-dd",day:"yy-MM-dd",hour:"HH:mm"}},tickAmount:6,type:"datetime"},legend:{position:"bottom",horizontalAlign:"center",fontSize:"16px",show:!1},tooltip:{enabled:!0,style:{fontSize:"16px"},x:{format:"yyyy-MM-dd HH:mm:ss"}}},data:[],error:"",file:"",allowedExtensions:["csv"]},a}return Object(p.a)(s,[{key:"componentDidMount",value:function(){this.handleFileChange=this.handleFileChange.bind(this),this.handleParse=this.handleParse.bind(this)}},{key:"parse_day",value:function(e){var t=e.split("-")[1].split("T")[0],s=e.split("-")[1].split("T")[1].split(":"),a=Object(c.a)(s,3),r=a[0],n=a[1],i=a[2],l=new Date((new Date).getFullYear(),0,0).getTime()+24*t*60*60*1e3,o=new Date(l);return o.setHours(+r-4),o.setMinutes(n),o.setSeconds(i),o}},{key:"get_day",value:function(e){var t=new Date(e.getFullYear(),0,0),s=e-t+60*(e.getTimezoneOffset()-e.getTimezoneOffset())*1e3,a=Math.floor(s/864e5);return e.getFullYear()+"-"+a+"T00:00:00"}},{key:"get_week_list",value:function(e){for(var t=new Date((new Date).getFullYear(),0,1),s=[],a=0;a<365;a+=7)s.push(["week "+a/7,t.getTime()+24*(0+a)*60*60*1e3,t.getTime()+24*(0+a+7)*60*60*1e3]);return s}},{key:"add_days",value:function(e,t){return e.setDate(e.getDate()+t),e}},{key:"csvJSON",value:function(e){for(var t=e.split("\n"),s=[],a=t[0].split(","),r=1;r<t.length;r++){for(var n={},i=t[r].split(","),l=0;l<a.length;l++)n[a[l]]=i[l];s.push(n)}return JSON.stringify(s)}},{key:"handleScheduleSeries",value:function(e){var t={user_mapping:{CUSP:"CUSP"},asset_mapping:{14:"DSN (Goldstone)",23:"DSN (Goldstone)",24:"DSN (Goldstone)",25:"DSN (Goldstone)",26:"DSN (Goldstone)",33:"DSN (Canberra)",34:"DSN (Canberra)",35:"DSN (Canberra)",36:"DSN (Canberra)",43:"DSN (Canberra)",45:"DSN (Canberra)",53:"DSN (Madrid)",54:"DSN (Madrid)",55:"DSN (Madrid)",56:"DSN (Madrid)",63:"DSN (Madrid)",65:"DSN (Madrid)",74:"ESTRACK (New Norcia)",83:"ESTRACK (Cerebros)",95:"ESTRACK (Malargue)"},scheduling_modes:{"1MODE":{user_order:["CUSP"],provider_order:["DSN (Goldstone)","DSN (Canberra)","DSN (Madrid)","ESTRACK (Malargue)","ESTRACK (Cerebros)","ESTRACK (New Norcia)"],colors:["#FEDB17","#FA861C","#ED1C24","#B1F339","#6BC342","#3A843B"],color_mapping:{"DSN (Goldstone)":"#FEDB17","DSN (Canberra)":"#FA861C","DSN (Madrid)":"#ED1C24","ESTRACK (Malargue)":"#50351A","ESTRACK (Cerebros)":"#86582B","ESTRACK (New Norcia)":"#BC7B3D"}}},provider_colors:{DSN:"#FA861C",NSN:"#6BC342",ESTRACK:"#86582B"}},s=t.user_mapping,a=t.asset_mapping,r="1MODE",n=t.scheduling_modes[r].user_order,i=t.scheduling_modes[r].provider_order,c=this.get_week_list(e);this.setState({weekList:c});for(var d=0;d<c.length;d++){var h={};for(var u in e)if(null!=e[u].STARTTIME&&this.parse_day(e[u].STARTTIME).getTime()<=c[d][2]&&this.parse_day(e[u].STARTTIME).getTime()>=c[d][1]){var j=s[e[u].PROJUSER],p=a[e[u].FACILITY];h[p]||(h[p]={}),h[p][j]||(h[p][j]=[]);var b=[];b.push(this.parse_day(e[u].STARTTIME).getTime()),b.push(this.parse_day(e[u].ENDTIME).getTime()),h[p][j].push(b)}var g=[];for(var S in i){var f={};for(var x in f.name=i[S],f.data=[],n)if(i[S]in h&&n[x]in h[i[S]])for(var O in h[i[S]][n[x]]){var C={};C.x=c[d][0],C.y=h[i[S]][n[x]][O],f.data.push(C)}g.push(f)}this.setState({options:Object(o.a)(Object(o.a)({},this.state.options),{},{colors:t.scheduling_modes[r].colors}),series:Object(o.a)(Object(o.a)({},this.state.series),{},Object(l.a)({},c[d][0],g))})}}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("fieldset",{className:"m-3",children:[Object(m.jsx)("legend",{children:"Enter CSV File"}),Object(m.jsx)("input",{onChange:this.handleFileChange,id:"csvInput",name:"file",type:"File"}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:this.handleParse,children:"Parse"})})]}),Object(m.jsx)("div",{id:"chart",children:function(){if(e.state.weekList.length===Object.keys(e.state.series).length&&e.state.weekList.length&&0!=Object.keys(e.state.series).length){var t=[];t.push(Object(m.jsxs)(S.a,{className:"color-key-table",bordered:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("th",{className:"text-center",colSpan:"6",children:"Provider Key"})})}),Object(m.jsxs)("colgroup",{children:[Object(m.jsx)("col",{span:"1",style:{width:"3%"}}),Object(m.jsx)("col",{span:"1",style:{width:"17%"}}),Object(m.jsx)("col",{span:"1",style:{width:"3%"}}),Object(m.jsx)("col",{span:"1",style:{width:"17%"}})]}),Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{className:"text-center",colSpan:"2",children:"DSN"}),Object(m.jsx)("th",{className:"text-center",colSpan:"2",children:"ESTRACK"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{style:{backgroundColor:"#FEDB17"}}),Object(m.jsx)("td",{className:"text-left p-1",children:"DSN (Goldstone)"}),Object(m.jsx)("td",{style:{backgroundColor:"#B1F339"}}),Object(m.jsx)("td",{className:"text-left p-1",children:"ESTRACK (New Norcia)"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{style:{backgroundColor:"#FA861C"}}),Object(m.jsx)("td",{className:"text-left p-1",children:"DSN (Canberra)"}),Object(m.jsx)("td",{style:{backgroundColor:"#6BC342"}}),Object(m.jsx)("td",{className:"text-left p-1",children:"ESTRACK (Cerebros)"})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{style:{backgroundColor:"#ED1C24"}}),Object(m.jsx)("td",{className:"text-left p-1",children:"DSN (Madrid)"}),Object(m.jsx)("td",{style:{backgroundColor:"#3A843B"}}),Object(m.jsx)("td",{className:"text-left p-1",children:"ESTRACK (Malargue)"})]})]})]},"charts-legend")),t.push(Object(m.jsx)("h3",{className:"m-4",children:"CUSP Schedule"},"charts-title"));for(var s=0;s<e.state.weekList.length;s++){e.state.series[e.state.weekList[s][0]].map((function(e){return e.data.length>0})).some((function(e){return!!e}))&&(console.log(e.state.series[e.state.weekList[s][0]].map((function(e){return e.data.length>0}))),t.push(Object(m.jsx)(x.a,{options:e.state.options,series:e.state.series[e.state.weekList[s][0]],type:"rangeBar",height:300},"test"+s)))}return Object(m.jsx)("div",{children:t})}}()})]})}}]),s}(a.Component),y=v;s(31);var N=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(y,{})})},D=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,35)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),r(e),n(e),i(e)}))};i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),D()}},[[32,1,2]]]);
//# sourceMappingURL=main.8701c8c2.chunk.js.map