(this["webpackJsonptimeline-tool"]=this["webpackJsonptimeline-tool"]||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(10),i=a.n(n),l=(a(24),a(25),a(4)),o=a(2),c=a(9),d=a(18),h=a(6),u=a.n(h),p=a(11),j=a(12),b=a(13),S=a(19),g=a(17),f=a(35),x=a(14),O=a.n(x),m=a(15),y=a.n(m),C=a(0),v=function(e){Object(S.a)(a,e);var t=Object(g.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).handleFileChange=function(e){if(s.setState({error:""}),e.target.files.length){var t=e.target.files[0],a=null===t||void 0===t?void 0:t.type.split("/")[1];if(!s.state.allowedExtensions.includes(a))return void s.setState({error:"Please input a csv file"});s.setState({file:t})}},s.handleParse=function(){if(!s.state.file)return s.setState({error:"Enter a valid file"});var e=new FileReader;e.onload=function(){var e=Object(p.a)(u.a.mark((function e(t){var a,r,n,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target,r=y.a.parse(a.result,{header:!0}),n=null===r||void 0===r?void 0:r.data,i=[],e.t0=u.a.keys(n);case 5:if((e.t1=e.t0()).done){e.next=14;break}if(0!==(l=e.t1.value)){e.next=11;break}return e.abrupt("continue",5);case 11:i.push(n[l]);case 12:e.next=5;break;case 14:s.handleScheduleSeries(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.readAsText(s.state.file)},s.state={weekList:[],series:{},options:{chart:{height:350,type:"rangeBar"},plotOptions:{bar:{horizontal:!0,barHeight:"75%%",rangeBarGroupRows:!0}},stroke:{width:1},fill:{type:"solid",opacity:1},yaxis:{labels:{style:{fontSize:"16px"}}},xaxis:{labels:{style:{fontSize:"16px"},rotate:-30,rotateAlways:!0,hideOverlappingLabels:!1,showDuplicates:!0,min:17304336e5,minHeight:125,maxHeight:300,datetimeFormatter:{year:"yy-MM-dd",month:"yy-MM-dd",day:"yy-MM-dd",hour:"HH:mm"}},tickAmount:6,type:"datetime"},legend:{position:"bottom",horizontalAlign:"center",fontSize:"16px",show:!1},tooltip:{enabled:!0,style:{fontSize:"16px"},x:{format:"yyyy-MM-dd HH:mm:ss"}}},data:[],error:"",file:"",allowedExtensions:["csv"]},s}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.handleFileChange=this.handleFileChange.bind(this),this.handleParse=this.handleParse.bind(this)}},{key:"parse_day",value:function(e){var t=e.split("-")[1].split("T")[0],a=e.split("-")[1].split("T")[1].split(":"),s=Object(d.a)(a,3),r=s[0],n=s[1],i=s[2],l=new Date((new Date).getFullYear(),0,0).getTime()+24*t*60*60*1e3,o=new Date(l);return o.setHours(+r-4),o.setMinutes(n),o.setSeconds(i),o}},{key:"get_day",value:function(e){var t=new Date(e.getFullYear(),0,0),a=e-t+60*(e.getTimezoneOffset()-e.getTimezoneOffset())*1e3,s=Math.floor(a/864e5);return e.getFullYear()+"-"+s+"T00:00:00"}},{key:"get_week_list",value:function(e){for(var t=Math.min.apply(Math,Object(c.a)(e.map((function(e){return e.STARTTIME?e.STARTTIME.split("-")[1].split("T")[0]:365})))),a=Math.max.apply(Math,Object(c.a)(e.map((function(e){return e.STARTTIME?e.STARTTIME.split("-")[1].split("T")[0]:0}))))-t,s=new Date((new Date).getFullYear(),0,0),r=[],n=0;n<a;n+=7)r.push(["week "+n/7,s.getTime()+24*(t+n)*60*60*1e3,s.getTime()+24*(t+n+7)*60*60*1e3]);return r}},{key:"add_days",value:function(e,t){return e.setDate(e.getDate()+t),e}},{key:"csvJSON",value:function(e){for(var t=e.split("\n"),a=[],s=t[0].split(","),r=1;r<t.length;r++){for(var n={},i=t[r].split(","),l=0;l<s.length;l++)n[s[l]]=i[l];a.push(n)}return JSON.stringify(a)}},{key:"handleScheduleSeries",value:function(e){var t={user_mapping:{CUSP:"CUSP"},asset_mapping:{14:"DSN (Goldstone)",23:"DSN (Goldstone)",24:"DSN (Goldstone)",25:"DSN (Goldstone)",26:"DSN (Goldstone)",33:"DSN (Canberra)",34:"DSN (Canberra)",35:"DSN (Canberra)",36:"DSN (Canberra)",43:"DSN (Canberra)",45:"DSN (Canberra)",53:"DSN (Madrid)",54:"DSN (Madrid)",55:"DSN (Madrid)",56:"DSN (Madrid)",63:"DSN (Madrid)",65:"DSN (Madrid)",74:"ESTRACK (New Norcia)",83:"ESTRACK (Cerebros)",95:"ESTRACK (Malargue)"},scheduling_modes:{"1MODE":{user_order:["CUSP"],provider_order:["DSN (Goldstone)","DSN (Canberra)","DSN (Madrid)","ESTRACK (Malargue)","ESTRACK (Cerebros)","ESTRACK (New Norcia)"],colors:["#FEDB17","#FA861C","#ED1C24","#B1F339","#6BC342","#3A843B"],color_mapping:{"DSN (Goldstone)":"#FEDB17","DSN (Canberra)":"#FA861C","DSN (Madrid)":"#ED1C24","ESTRACK (Malargue)":"#50351A","ESTRACK (Cerebros)":"#86582B","ESTRACK (New Norcia)":"#BC7B3D"}}},provider_colors:{DSN:"#FA861C",NSN:"#6BC342",ESTRACK:"#86582B"}},a=t.user_mapping,s=t.asset_mapping,r="1MODE",n=t.scheduling_modes[r].user_order,i=t.scheduling_modes[r].provider_order,c=this.get_week_list(e);this.setState({weekList:c});for(var d=0;d<c.length;d++){var h={};for(var u in e)if(null!=e[u].STARTTIME&&this.parse_day(e[u].STARTTIME).getTime()<=c[d][2]&&this.parse_day(e[u].STARTTIME).getTime()>=c[d][1]){var p=a[e[u].PROJUSER],j=s[e[u].FACILITY];h[j]||(h[j]={}),h[j][p]||(h[j][p]=[]);var b=[];b.push(this.parse_day(e[u].STARTTIME).getTime()),b.push(this.parse_day(e[u].ENDTIME).getTime()),h[j][p].push(b)}var S=[];for(var g in i){var f={};for(var x in f.name=i[g],f.data=[],n)if(i[g]in h&&n[x]in h[i[g]])for(var O in h[i[g]][n[x]]){var m={};m.x=c[d][0],m.y=h[i[g]][n[x]][O],f.data.push(m)}S.push(f)}this.setState({options:Object(o.a)(Object(o.a)({},this.state.options),{},{colors:t.scheduling_modes[r].colors}),series:Object(o.a)(Object(o.a)({},this.state.series),{},Object(l.a)({},c[d][0],S))})}}},{key:"render",value:function(){var e=this;return Object(C.jsxs)("div",{children:[Object(C.jsxs)("fieldset",{className:"m-3",children:[Object(C.jsx)("legend",{children:"Enter CSV File"}),Object(C.jsx)("input",{onChange:this.handleFileChange,id:"csvInput",name:"file",type:"File"}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:this.handleParse,children:"Parse"})})]}),Object(C.jsx)("div",{id:"chart",children:function(){if(e.state.weekList.length===Object.keys(e.state.series).length&&e.state.weekList.length){var t=[];t.push(Object(C.jsxs)(f.a,{className:"color-key-table",bordered:!0,children:[Object(C.jsx)("thead",{children:Object(C.jsx)("tr",{children:Object(C.jsx)("th",{className:"text-center",colSpan:"6",children:"Provider Key"})})}),Object(C.jsxs)("colgroup",{children:[Object(C.jsx)("col",{span:"1",style:{width:"3%"}}),Object(C.jsx)("col",{span:"1",style:{width:"17%"}}),Object(C.jsx)("col",{span:"1",style:{width:"3%"}}),Object(C.jsx)("col",{span:"1",style:{width:"17%"}})]}),Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{className:"text-center",colSpan:"2",children:"DSN"}),Object(C.jsx)("th",{className:"text-center",colSpan:"2",children:"ESTRACK"})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{style:{backgroundColor:"#FEDB17"}}),Object(C.jsx)("td",{className:"text-left p-1",children:"DSN (Goldstone)"}),Object(C.jsx)("td",{style:{backgroundColor:"#B1F339"}}),Object(C.jsx)("td",{className:"text-left p-1",children:"ESTRACK (New Norcia)"})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{style:{backgroundColor:"#FA861C"}}),Object(C.jsx)("td",{className:"text-left p-1",children:"DSN (Canberra)"}),Object(C.jsx)("td",{style:{backgroundColor:"#6BC342"}}),Object(C.jsx)("td",{className:"text-left p-1",children:"ESTRACK (Cerebros)"})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{style:{backgroundColor:"#ED1C24"}}),Object(C.jsx)("td",{className:"text-left p-1",children:"DSN (Madrid)"}),Object(C.jsx)("td",{style:{backgroundColor:"#3A843B"}}),Object(C.jsx)("td",{className:"text-left p-1",children:"ESTRACK (Malargue)"})]})]})]},"charts-legend")),t.push(Object(C.jsx)("h3",{className:"m-4",children:"CUSP Schedule"},"charts-title"));for(var a=0;a<e.state.weekList.length;a++)t.push(Object(C.jsx)(O.a,{options:e.state.options,series:e.state.series[e.state.weekList[a][0]],type:"rangeBar",height:300},"test"+a));return Object(C.jsx)("div",{children:t})}}()})]})}}]),a}(s.Component),T=v;a(32);var N=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(T,{})})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,36)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),r(e),n(e),i(e)}))};i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(N,{})}),document.getElementById("root")),D()}},[[33,1,2]]]);
//# sourceMappingURL=main.1df7fcad.chunk.js.map